/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 1.1.1
 * @url https://github.com/feimosi/baguetteBox.js
 */
var baguetteBox=function(){var t,e,n,i,a,o,s='<div class="icons__previous"></div>',r='<div class="icons__next"></div>',c='<div class="icons__exit"></div>',l={},u={captions:!0,buttons:"auto",async:!1,preload:2,animation:"slideIn"},d={},f=0,p=-1,m=!1,g=/.+\.(gif|jpe?g|png|webp)/i,v=[],h=[],b=[];function y(){"none"!==t.style.display&&(t.className="",setTimeout(function(){t.style.display="none"},500))}function k(t,e){var n=b[t];if(void 0!==n)if(n.getElementsByTagName("img")[0])e&&e();else{imageElement=h[p][t],imageCaption=imageElement.getAttribute("data-caption")||imageElement.title,imageSrc=function(t){var e=imageElement.href;if(t.dataset){var n=[];for(var i in t.dataset)"at-"!==i.substring(0,3)||isNaN(i.substring(3))||(n[i.replace("at-","")]=t.dataset[i]);keys=Object.keys(n).sort(function(t,e){return parseInt(t)<parseInt(e)?-1:1});for(var a=window.innerWidth*window.devicePixelRatio,o=0;o<keys.length-1&&keys[o]<a;)o++;e=n[keys[o]]||e}return e}(imageElement);var i=I("figure"),a=I("img"),o=I("figcaption");n.appendChild(i),i.innerHTML='<div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>',a.onload=function(){var n=document.querySelector("#baguette-img-"+t+" .spinner");i.removeChild(n),!l.async&&e&&e()},a.setAttribute("src",imageSrc),i.appendChild(a),l.captions&&imageCaption&&(o.innerHTML=imageCaption,i.appendChild(o)),l.async&&e&&e()}}function C(){f<=b.length-2?(f++,w(),N(f)):l.animation&&(e.className="bounce-from-right",setTimeout(function(){e.className=""},400))}function T(){f>=1?(f--,w(),E(f)):l.animation&&(e.className="bounce-from-left",setTimeout(function(){e.className=""},400))}function w(){var t=100*-f+"%";"fadeIn"===l.animation?(e.style.opacity=0,setTimeout(function(){d.transforms?e.style.transform=e.style.webkitTransform="translate3d("+t+",0,0)":e.style.left=t,e.style.opacity=1},400)):d.transforms?e.style.transform=e.style.webkitTransform="translate3d("+t+",0,0)":e.style.left=t}function N(t){t-f>=l.preload||k(t+1,function(){N(t+1)})}function E(t){f-t>=l.preload||k(t-1,function(){E(t-1)})}function B(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function x(t){return document.getElementById(t)}function I(t){return document.createElement(t)}return[].forEach||(Array.prototype.forEach=function(t,e){for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)}),[].filter||(Array.prototype.filter=function(t,e,n,i,a){for(n=this,i=[],a=0;a<n.length;a++)t.call(e,n[a],a,n)&&i.push(n[a]);return i}),{run:function(P,L){var M;d.transforms=void 0!==(M=I("div")).style.perspective||void 0!==M.style.webkitPerspective,d.svg=function(){var t=I("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"==(t.firstChild&&t.firstChild.namespaceURI)}(),function(){if(t=x("baguetteBox-overlay"))return e=x("baguetteBox-slider"),n=x("previous-button"),i=x("next-button"),void(a=x("close-button"));(t=I("div")).id="baguetteBox-overlay",document.getElementsByClassName("work")[0].appendChild(t),(e=I("div")).id="baguetteBox-slider",t.appendChild(e),(n=I("button")).id="previous-button",n.innerHTML=d.svg?s:"&lt;",t.appendChild(n),(i=I("button")).id="next-button",i.innerHTML=d.svg?r:"&gt;",t.appendChild(i),(a=I("button")).id="close-button",a.innerHTML=d.svg?c:"X",t.appendChild(a),n.className=i.className=a.className="baguetteBox-button",B(t,"click",function(t){t.target&&"IMG"!==t.target.nodeName&&"FIGCAPTION"!==t.target.nodeName&&y()}),B(n,"click",function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,T()}),B(i,"click",function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,C()}),B(a,"click",function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,y()}),B(t,"touchstart",function(t){o=t.changedTouches[0].pageX}),B(t,"touchmove",function(t){m||(t.preventDefault?t.preventDefault():t.returnValue=!1,touch=t.touches[0]||t.changedTouches[0],touch.pageX-o>40?(m=!0,T()):touch.pageX-o<-40&&(m=!0,C()))}),B(t,"touchend",function(t){m=!1}),B(document,"keydown",function(t){switch(t.keyCode){case 37:T();break;case 39:C();break;case 27:y()}})}(),v=document.querySelectorAll(P),[].forEach.call(v,function(a,o){var s=a.getElementsByTagName("a");s=[].filter.call(s,function(t){return g.test(t.href)});var r=h.length;h.push(s),h[r].options=L,[].forEach.call(h[r],function(a,o){B(a,"click",function(a){var s;a.preventDefault?a.preventDefault():a.returnValue=!1,function(t){if(p!==t){for(p=t,function(t){for(var a in t||(t={}),u)l[a]=u[a],void 0!==t[a]&&(l[a]=t[a]);e.style.transition=e.style.webkitTransition="fadeIn"===l.animation?"opacity .4s ease":"slideIn"===l.animation?"":"none","auto"===l.buttons&&("ontouchstart"in window||1===h[p].length)&&(l.buttons=!1),n.style.display=i.style.display=l.buttons?"":"none"}(h[t].options);e.firstChild;)e.removeChild(e.firstChild);b.length=0;for(var a,o=0;o<h[t].length;o++)(a=I("div")).className="full-image",a.id="baguette-img-"+o,b.push(a),e.appendChild(b[o])}}(r),s=o,"block"!==t.style.display&&(k(f=s,function(){N(f),E(f)}),w(),t.style.display="block",setTimeout(function(){t.className="visible"},50))})})})}}}();